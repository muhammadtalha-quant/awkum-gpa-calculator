<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGPA and CGPA Calculator for AWKUM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <header>
            <img src="AWKUM.jpg" 
     alt="AWKUM Logo" 
     class="logo" 
     id="awkum-logo">
            <div>
                <div class="university-name">Abdul Wali Khan University Mardan</div>
                <div style="margin-top:8px;"><span class="app-title">Unofficial Calculator</span></div>
            </div>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('sgpa')">SGPA</button>
            <button class="tab-btn" onclick="switchTab('cgpa')">CGPA</button>
        </div>

        <div id="sgpa" class="tab-content active">
            <div class="card">
                <div class="card-header">
                    <h2>Semester GPA</h2>
                    <button class="btn-text" onclick="clearSGPA()">Clear All</button>
                </div>
                
                <p style="margin-bottom: 16px; color: var(--md-sys-color-secondary); font-size: 0.9rem;">
                    Enter your marks (0-100) and credit hours. Grade Points are calculated automatically.
                </p>

                <div style="overflow-x: auto;">
                    <table class="calc-table" id="sgpa-table">
                        <thead>
                            <tr>
                                <th width="35%">Subject Name</th>
                                <th width="15%">Credits</th>
                                <th width="15%">Marks</th>
                                <th width="15%">Grade Point</th>
                                <th width="10%">Grade</th>
                                <th width="10%"></th>
                            </tr>
                        </thead>
                        <tbody id="sgpa-body">
                            </tbody>
                    </table>
                </div>

                <div class="action-bar">
                    <button class="btn btn-outlined" onclick="addSGPARow()">+ Add Subject</button>
                    <button class="btn btn-primary" onclick="calculateSGPA()">Calculate SGPA</button>
                    <button class="btn btn-outlined" onclick="exportPDF('SGPA')" id="btn-export-sgpa" disabled>Export DMC (PDF)</button>
                </div>

                <div id="sgpa-result" class="result-box">
                    <div style="text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px;">Semester GPA</div>
                    <div class="gpa-display" id="sgpa-value">0.00</div>
                    <div class="grade-display" id="sgpa-letter">Grade: F</div>
                </div>
            </div>
        </div>

        <div id="cgpa" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2>Cumulative GPA</h2>
                    <button class="btn-text" onclick="clearCGPA()">Clear All</button>
                </div>

                <p style="margin-bottom: 16px; color: var(--md-sys-color-secondary); font-size: 0.9rem;">
                    Enter the GPA obtained in each semester and total credits for that semester.
                </p>

                <div style="overflow-x: auto;">
                    <table class="calc-table" id="cgpa-table">
                        <thead>
                            <tr>
                                <th width="40%">Semester</th>
                                <th width="20%">Obtained GPA</th>
                                <th width="20%">Total Credits</th>
                                <th width="10%"></th>
                            </tr>
                        </thead>
                        <tbody id="cgpa-body">
                            </tbody>
                    </table>
                </div>

                <div class="action-bar">
                    <button class="btn btn-outlined" onclick="addCGPARow()">+ Add Semester</button>
                    <button class="btn btn-primary" onclick="calculateCGPA()">Calculate CGPA</button>
                    <button class="btn btn-outlined" onclick="exportPDF('CGPA')" id="btn-export-cgpa" disabled>Export DMC (PDF)</button>
                </div>

                <div id="cgpa-result" class="result-box">
                    <div style="text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px;">Cumulative GPA</div>
                    <div class="gpa-display" id="cgpa-value">0.00</div>
                    <div class="grade-display" id="cgpa-letter">Grade: F</div>
                    <div style="margin-top: 10px; font-size: 0.9rem;" id="cgpa-status"></div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3>How the GPA is Calculated</h3>
            
            <div style="margin-top: 16px;">
                <strong>1. Marks to Grade Point Conversion</strong>
                <p class="formula-block">
                    If Marks >= 90: GP = 4.00<br>
                    If 50 <= Marks < 90: GP = 2.00 + (Marks - 50) * 0.05<br>
                    If Marks < 50: GP = 0.00 (Fail)
                </p>
                <p style="font-size: 0.85rem; color: #666;">
                    * AWKUM uses a linear scale where every mark above 50 adds 0.05 to the Grade Point.
                </p>
            </div>

            <div style="margin-top: 16px;">
                <strong>2. Formulas</strong>
                <p class="formula-block">
                    SGPA = Σ (Subject GP × Credit Hours) / Total Credit Hours
                </p>
                <p class="formula-block">
                    CGPA = Σ (Semester GPA × Semester Credits) / Total Credits So Far
                </p>
            </div>
        </div>

        <div class="card">
            <h3>AWKUM Grading Chart</h3>
            <div class="grading-grid" id="grading-chart">
                </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
